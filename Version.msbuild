<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <AssemblyInfo>$([System.IO.File]::ReadAllText("$(SolutionDir)SharedAssemblyInfo.cs"))</AssemblyInfo>
    <PackageVersion>$([System.Text.RegularExpressions.Regex]::Match($(AssemblyInfo), "AssemblyVersion\(\"(\d+\.\d+\.\d+)\.\d+\"\)").Groups[1].Value)</PackageVersion>
    <PackageVersionShort>$([System.Text.RegularExpressions.Regex]::Replace($(PackageVersion), "(\.0+)+$", ""))</PackageVersionShort>
  </PropertyGroup>
</Project>